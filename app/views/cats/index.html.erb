<p style="color: green"><%= notice %></p>

<h1>Cats</h1>

<%= search_form_for @search, html: {data: {turbo_frame: "cats-list"}} do |f| %>
  <%= f.label :name_cont, "名前" %>
  <%= f.search_field :name_cont %>

  <%# `カラム名_eq`とすることで、カラムに対して完全一致検索ができる %>
  <%= f.label :age_eq, "年齢" %>
  <%= f.search_field :age_eq %>
  <%= f.submit %>

  <%# 検索結果と検索フォームをクリアする %>
  <%= link_to "クリア", cats_path %>
 <% end %>
<%= turbo_frame_tag "cats-list" do %>
  <div class="row py-2">
    <div class="col-4 mt-auto">
      <%= sort_link(@search, :name) %>
    </div>
    <div class="col-4 mt-auto">
      <%= sort_link(@search, :age) %>
    </div>
    <div class="col-4 d-flex justify-content-end">
      <%= link_to("登録",
                  new_cat_path,
                  class: "btn btn-outline-primary")
      %>
    </div>
  </div>

  <%= render @cats %>

  <div class="d-flex justify-content-end mt-3">
    <%= paginate @cats %>
  </div>
<% end %>
<%= link_to "New cat", new_cat_path %>
